<html>

<head>
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="bootstrap/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css"/>
    <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <div class="container">
        <div class="col-xs-12">
            <h1 id="title"></h1>
        </div>
        <div class="col-xs-12 col-sm-3" id="payload">
            <p>ID: <span id="id"/></span>
            <p id="image"/>
            <h3 id="gathering">Gathering</h3>
            <p id="gatherReq"></p>
            <p id="gatherTime"></p>
            <p id="yield"></p>
            <ul id="yieldList"></ul>
        </div>
    </div>
    
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script type="text/javascript" src="items.js"></script>
    <script type="text/javascript" src="objects.js"></script>
    <script type="text/javascript" src="util.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            var obj = findObject();
            
            console.log(obj);
            document.title = obj.name;
            $("#title").html(obj.name);
            $("#id").html(obj.id);
            $("#image").html(imageNode(obj));
            
            // Gathering
            if ("gatherReq" in obj)
                $("#gatherReq").html("Requires " + obj.gatherReq);
            if ("gatherTime" in obj)
                $("#gatherTime").html("Takes " + displayAsSeconds(obj.gatherTime));
            if (obj.yield.length > 0)
                $("#yield").html("Yields:");
            for (var i = 0; i < obj.yield.length; ++i){
                var yieldID = obj.yield[i];
                var linkAddress = "item.html?id=" + yieldID;
                var yieldItem = findItem(yieldID);
                console.log(yieldItem);
                $("#yieldList").append( '<li><a href="' + linkAddress + '">' + imageNode(yieldItem) + yieldItem.name + "</a></li>" );
            }
            
            
        });
    </script>
</body>

</html>
